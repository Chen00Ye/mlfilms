<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dispersive Materials • mlfilms</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">mlfilms</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Dispersive_materials.html">Dispersive Materials</a>
    </li>
    <li>
      <a href="../articles/Fitting.html">Fitting Experimental Data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/tjconstant/mlfilms">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Dispersive Materials</h1>
                        <h4 class="author">Tom Constant</h4>
            
            <h4 class="date">2018-03-27</h4>
          </div>

    
    
<div class="contents">
<p><code>mlfilms</code> can model dispersive materials by passing an appropriate refractive index function in the <code>layer</code> list object. Multiple dispersive materials can be passed as part of the <code>layers$index</code> vector.</p>
<p>As an example, this vignette shows the setup of an appropriate function, and how to pass it to the <code>dispersion_scan</code> function. The example shows the dispersive nature of an electromagnetic surface wave, a ’surface plasmon polariton`.</p>
<div id="example-function-gold" class="section level2">
<h2 class="hasAnchor">
<a href="#example-function-gold" class="anchor"></a>Example function: Gold</h2>
<p>A simple approximation to Gold’s refractive index can be given by some simple second-order polynomial fits, and can be constructed into a refractive index function like so,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gold &lt;-<span class="st"> </span><span class="cf">function</span>(wavelength){
  
  wavelength &lt;-<span class="st"> </span>wavelength <span class="op">*</span><span class="st"> </span><span class="fl">1e9</span>
  
  n &lt;-<span class="st"> </span><span class="fl">1.63e-1</span> <span class="op">-</span><span class="st"> </span><span class="fl">4.26e-4</span> <span class="op">*</span><span class="st"> </span>wavelength <span class="op">+</span><span class="st"> </span><span class="fl">4.06e-7</span> <span class="op">*</span><span class="st"> </span>wavelength<span class="op">^</span><span class="dv">2</span>
  k &lt;-<span class="st"> </span><span class="op">-</span><span class="fl">2.44</span> <span class="op">+</span><span class="st"> </span>wavelength <span class="op">*</span><span class="st"> </span><span class="fl">1.32e-2</span> <span class="op">-</span><span class="st"> </span><span class="fl">4.04e-6</span> <span class="op">*</span><span class="st"> </span>wavelength<span class="op">^</span><span class="dv">2</span>
  
  <span class="kw">return</span>(n<span class="op">+</span>k<span class="op">*</span>1i)
}</code></pre></div>
<p><code>mlfilms</code> will pass the wavelength to the function in meters, so the first line converts this to nanometers, then two simple polynomials return the real and imaginary component of the refractive index of gold <a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>.</p>
<p>Finally, the function returns the complex refractive index.</p>
<p>This is a very simple approximation to gold’s refractive index. A more complex or mature dispersion function might include a spline-fit or include warnings should the wavelength stray beyond the limits for which the fit is appropriate.</p>
<p>Since this function is called for each wavelength, it is advised not to include time or CPU-intensive operations within a refractive index function. For example, operations like reading in a experimental dataset of refractive index values should be placed outside of the function’s immediate environment.</p>
</div>
<div id="using-a-refractive-index-function-in-mlfilms" class="section level2">
<h2 class="hasAnchor">
<a href="#using-a-refractive-index-function-in-mlfilms" class="anchor"></a>Using a refractive index function in <code>mlfilms</code>
</h2>
<p>We can then model a simple gold film using <code>mlfilms</code>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(mlfilms)

layers &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">index =</span> gold,
               <span class="dt">thickness =</span> <span class="fl">45e-9</span>) 

result &lt;-<span class="st"> </span><span class="kw"><a href="../reference/dispersion_scan.html">dispersion_scan</a></span>(layers, <span class="dt">incident_medium.index =</span> <span class="fl">1.5</span>, <span class="dt">show.progress =</span> F)
<span class="co">#&gt; Warning in check_repetitions(layers): Number of repetitions not specified,</span>
<span class="co">#&gt; defaulting to 1.</span></code></pre></div>
</div>
<div id="colourplots" class="section level2">
<h2 class="hasAnchor">
<a href="#colourplots" class="anchor"></a>Colourplots</h2>
<p>We can observe the dispersive surface plasmon in this dataset by plotting the colourmap of angle vs. wavelength. The electromagnetic surface wave presents as a minima in reflection.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">image</span>(<span class="dt">x =</span> <span class="kw">unique</span>(result<span class="op">$</span>angle),
      <span class="dt">y =</span> <span class="kw">unique</span>(result<span class="op">$</span>wavelength),
      <span class="dt">z =</span> <span class="kw">matrix</span>(result<span class="op">$</span>Reflection, <span class="dt">ncol =</span> <span class="dv">100</span>),
      <span class="dt">xlab =</span> <span class="st">"angle (degrees)"</span>, <span class="dt">ylab =</span> <span class="st">"wavelength(m)"</span>, <span class="dt">col =</span> <span class="kw">topo.colors</span>(<span class="dv">128</span>))</code></pre></div>
<p><img src="Dispersive_materials_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
</div>
<div id="more-complex-stacks" class="section level2">
<h2 class="hasAnchor">
<a href="#more-complex-stacks" class="anchor"></a>More complex stacks</h2>
<p>It is possible to include as many dispersive functions as required in the layers specification. For Example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">layers &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">index =</span> <span class="kw">c</span>(gold, <span class="fl">1.1</span><span class="op">+</span><span class="fl">0.</span>1i, gold),
               <span class="dt">thickness =</span> <span class="kw">c</span>(<span class="fl">45e-9</span>, <span class="fl">5e-9</span>, <span class="fl">50e-9</span>)) 

result &lt;-<span class="st"> </span><span class="kw"><a href="../reference/dispersion_scan.html">dispersion_scan</a></span>(layers, <span class="dt">incident_medium.index =</span> <span class="fl">1.5</span>, <span class="dt">show.progress =</span> F)
<span class="co">#&gt; Warning in check_repetitions(layers): Number of repetitions not specified,</span>
<span class="co">#&gt; defaulting to 1.</span>

<span class="kw">image</span>(<span class="dt">x =</span> <span class="kw">unique</span>(result<span class="op">$</span>angle),
      <span class="dt">y =</span> <span class="kw">unique</span>(result<span class="op">$</span>wavelength),
      <span class="dt">z =</span> <span class="kw">matrix</span>(result<span class="op">$</span>Reflection, <span class="dt">ncol =</span> <span class="dv">100</span>),
      <span class="dt">xlab =</span> <span class="st">"angle (degrees)"</span>, <span class="dt">ylab =</span> <span class="st">"wavelength(m)"</span>, <span class="dt">col =</span> <span class="kw">topo.colors</span>(<span class="dv">128</span>))</code></pre></div>
<p><img src="Dispersive_materials_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>These simple fits were made from data found in the paper by Nash &amp; Sambles (D. J. Nash and J. R. Sambles, J. Mod. Op. 43, pp81 (1996).).<a href="#fnref1">↩</a></p></li>
</ol>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#example-function-gold">Example function: Gold</a></li>
      <li><a href="#using-a-refractive-index-function-in-mlfilms">Using a refractive index function in <code>mlfilms</code></a></li>
      <li><a href="#colourplots">Colourplots</a></li>
      <li><a href="#more-complex-stacks">More complex stacks</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Tom Constant.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
